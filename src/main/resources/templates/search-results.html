<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>K·∫øt qu·∫£ t√¨m ki·∫øm cho: [[${query}]]</title>
	<link rel="icon" href="https://gigamall.com.vn/data/2024/05/10/14290213_shushiwa.jpg" type="image/x-icon">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">	
	<!-- Link ƒë·∫øn Bootstrap CSS t·ª´ CDN -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
	<!-- Th√™m ƒëo·∫°n m√£ n√†y ngay tr∆∞·ªõc th·∫ª ƒë√≥ng </body> -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- Custom CSS -->
	<!-- Th√™m Font Awesome CDN -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<link href="/index.css" rel="stylesheet">
	<link href="/menu.css" rel="stylesheet">

	<style>
		body {
		    font-family: 'Poppins', sans-serif;
		    background-color: #fdf5f3;
		    margin-top: 80px;
		}
		.highlight-keyword {
		    background-color: #FF5733; /* M√†u s·∫Øc c·ªßa t·ª´ kh√≥a */
			color: white;
		}
		.form-control::placeholder {
		    font-size: 12px; /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc ch·ªØ */
		}
		.container2 {
		    max-width: 1080px;
		    margin: 0 auto;
		}

		.card {
		    border: none;
		    position: relative;
		    overflow: hidden;
		}

		.card-img-top {
		    height: 250px;
		    object-fit: cover;
		}

		.card-overlay {
		    position: absolute;
		    bottom: 15px;
		    left: 50%;
		    transform: translateX(-50%);
		    width: 85%;
		    background: rgba(0, 0, 0, 0.7);
		    color: white;
		    padding: 10px;
		    border-radius: 5px;
		    max-height: 120px; /* Gi·ªõi h·∫°n chi·ªÅu cao overlay */
		    overflow-y: auto; /* Hi·ªÉn th·ªã thanh cu·ªôn n·∫øu c·∫ßn */
		}

		.card-title {
		    color: rgb(0, 0, 0);
		    font-size: 1rem;
		    font-weight: bold;
		    margin-bottom: 5px;
		}

		.card-description {
		    max-height: 100px; /* Gi·ªõi h·∫°n chi·ªÅu cao m√¥ t·∫£ */
		    overflow-y: auto; /* Hi·ªÉn th·ªã thanh cu·ªôn */
		    font-size: 0.85rem;
		    line-height: 1.4;
		    margin: 0;
		}

		.btn {
		    font-size: 0.9rem;
		}
		.nav-link2 {
		     text-decoration: none; /* X√≥a g·∫°ch ch√¢n m·∫∑c ƒë·ªãnh */
		     color: inherit;
		     transition: color 0.3s ease, text-decoration 0.3s ease;
		 }

		 .nav-link2:hover {
		     color: rgb(255, 255, 255); /* ƒê·ªïi m√†u ch·ªØ khi r√™ chu·ªôt */
		     text-decoration: underline; /* Th√™m g·∫°ch ch√¢n khi r√™ chu·ªôt */
		 }
		 .form-control {
		        text-overflow: ellipsis; /* Th√™m d·∫•u "..." khi n·ªôi dung qu√° d√†i */
		        white-space: nowrap;    /* Kh√¥ng cho ph√©p xu·ªëng d√≤ng */
		        overflow: hidden;       /* ·∫®n n·ªôi dung th·ª´a v∆∞·ª£t qu√° √¥ input */
		    }
		.h2{
			margin-bottom: 2000px;
		}	
	</style>
</head>
<body>
	<!-- Navbar tr√™n m√†n h√¨nh l·ªõn -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top d-none d-sm-block">
	    <div class="container">
	        <a class="navbar-brand" href="http://localhost:8080/">
	            <img src="https://gigamall.com.vn/data/2024/05/10/14290213_shushiwa.jpg" alt="Logo Sushi">
	        </a>
			<form action="/search" method="get" id="voiceSearchForm">
			    <div class="input-group">
			        <!-- Input search -->
					<input type="text" name="query" id="voiceInput" class="form-control" th:value="${query}" placeholder="T√¨m ki·∫øm m√≥n ƒÉn, khuy·∫øn m√£i..." required>
			        <!-- Bi·ªÉu t∆∞·ª£ng mic ghi √¢m -->
			        <button type="button" id="voiceSearchBtn" title="T√¨m ki·∫øm b·∫±ng gi·ªçng n√≥i" class="btn btn-primary">üéôÔ∏è  </button>
			    </div>
			</form>
	       
	        <div class="collapse navbar-collapse" id="navbarNav">
	            <ul class="navbar-nav ms-auto">
	                <li class="nav-item"><a class="nav-link" href="menu">ƒê·∫∑t m√≥n</a></li>
	                <li class="nav-item"><a class="nav-link" href="promotions">Khuy·∫øn m√£i</a></li>
	                <li class="nav-item"><a class="nav-link" href="my_order" th:if="${session.loggedInUser != null}">ƒê∆°n h√†ng</a></li>
	                <li class="nav-item"><a class="nav-link" href="profile" th:if="${session.loggedInUser != null}">Kh√°ch h√†ng</a></li>
	                <li class="nav-item"><a class="nav-link" href="contact">Li√™n h·ªá</a></li>
	                <li class="nav-item" th:if="${session.role == 'admin'}">
	                    <a class="nav-link" href="/admin">Trang Admin</a>
	                </li>
	                <li class="nav-item" th:if="${session.loggedInUser == null}">
	                    <a class="nav-link" href="/login">ƒêƒÉng nh·∫≠p</a>
	                </li>
	                <li class="nav-item dropdown" th:if="${session.loggedInUser != null}">
	                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	                        [[${session.loggedInUser}]]
	                    </a>
	                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
	                        <a class="dropdown-item" href="/logout">ƒêƒÉng xu·∫•t</a>
	                    </div>
	                </li>
	            </ul>
	            <!-- Bi·ªÉu t∆∞·ª£ng gi·ªè h√†ng -->
				<div class="nav-item">
					<a href="/cart">
				    <button class="btn btn-outline-primary position-relative">
				        <i class="fas fa-shopping-cart"></i> <!-- Bi·ªÉu t∆∞·ª£ng gi·ªè h√†ng -->
				        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
				            <span th:text="${cartItemCount}">0</span>
				        </span>
				    </button>
					</a>
				</div>
	        </div>
	    </div>
	</nav>
	<!-- Form T√¨m ki·∫øm -->
	<div class="search-container bg-light fixed-top text-center mb-4 d-block d-sm-none">
	    <form action="/search" method="get">
	        <div class="input-group">
	            <a class="navbar-brand" style="margin-left: 5px;" href="/index">
	                <img src="https://gigamall.com.vn/data/2024/05/10/14290213_shushiwa.jpg" alt="Logo Sushi Wa">
	            </a>
	            <!-- Input search -->
	            <input type="text" name="query" class="form-control" placeholder="T√¨m ki·∫øm m√≥n ƒÉn, khuy·∫øn m√£i..." required>
	            <!-- Bi·ªÉu t∆∞·ª£ng gi·ªè h√†ng v·ªõi s·ªë l∆∞·ª£ng m√≥n -->
				<a href="/cart" class="input-group-text">
	                <button type="button" class=" mt-1 btn btn-outline-primary position-relative">
	                    <i class="fas fa-shopping-cart"></i>
	                    <!-- Hi·ªÉn th·ªã s·ªë l∆∞·ª£ng m√≥n trong gi·ªè h√†ng -->
	                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
	                        <span th:text="${cartItemCount}">0</span> <!-- Hi·ªÉn th·ªã s·ªë l∆∞·ª£ng -->
	                    </span>
	                </button>
	            </a>
	        </div>
	    </form>
	</div>

	<!-- Navbar c·ªë ƒë·ªãnh d∆∞·ªõi c√πng cho di ƒë·ªông -->
	<nav class="navbar navbar-light bg-light fixed-bottom d-block d-sm-none">
	    <div class="container">
	        <ul class="navbar-nav w-100 d-flex justify-content-between m-0">
	            <li class="nav-item text-center">
	                <a class="nav-link" href="/index">
	                    <i class="fas fa-home"></i><br>Trang ch·ªß
	                </a>
	            </li>
	            <li class="nav-item text-center">
	                <a class="nav-link" href="menu">
	                    <i class="fas fa-utensils"></i><br>ƒê·∫∑t M√≥n
	                </a>
	            </li>
	            <li class="nav-item text-center">
	                <a class="nav-link" href="promotions">
	                    <i class="fas fa-tag"></i><br>Khuy·∫øn m√£i
	                </a>
	            </li>
	            <li class="nav-item text-center" th:if="${session.loggedInUser != null}">
	                <a class="nav-link" href="my_order">
	                    <i class="fas fa-box"></i><br>ƒê∆°n h√†ng
	                </a>
	            </li>
	            <li class="nav-item text-center" th:if="${session.loggedInUser != null}">
	                <a class="nav-link" href="/customer">
	                    <i class="fas fa-user"></i><br>[[${session.loggedInUser}]]
	                </a>
	            </li>
	            <li class="nav-item text-center" th:if="${session.loggedInUser == null}">
	                <a class="nav-link" href="/login">
	                    <i class="fas fa-user"></i><br>ƒêƒÉng nh·∫≠p
	                </a>
	            </li>
	        </ul>
	    </div>
	</nav>
<h2 class="mt-5">K·∫øt qu·∫£ t√¨m ki·∫øm cho: [[${query}]]</h2>

<h2 th:if="${not #lists.isEmpty(searchedMenuItems)}">M√≥n ƒÉn</h2>

<div class="container2" id="menuItemsContainer">
    <!-- S·ª≠ d·ª•ng row bao quanh t·∫•t c·∫£ c√°c c·ªôt -->
    <div class="row g-4">
        <!-- L·∫∑p qua t·∫•t c·∫£ c√°c m√≥n ƒÉn -->
        <div class="col-md-4 item-card" th:each="item : ${searchedMenuItems}">
            <div class="card">
                <!-- H√¨nh ·∫£nh m√≥n ƒÉn -->
                <a title="Xem chi ti·∫øt" th:href="@{/product-details/{token}(token=${item.token})}" class="nav-link">
                    <img th:src="${item.imageUrl}" class="card-img-top" th:alt="'Image of ' + ${item.name}" 
                         data-toggle="modal" data-target="#itemModal" th:attr="data-item-id=${item.getItemId()}">
                </a>

                <div class="card-body">
                    <h5 class="card-title" th:text="${item.name}">T√™n m√≥n</h5>
                    <p class="card-text" th:text="${item.description}">M√¥ t·∫£ m√≥n ƒÉn</p>
                    <p class="text-danger" th:text="'Khuy·∫øn m√£i: ' + ${item.promotion}">Khuy·∫øn m√£i</p>
                    <p class="price" th:text="${#numbers.formatDecimal(item.price, 0, 0)}">Gi√°</p>

                    <form action="/add-to-cart" method="post" onsubmit="localStorage.setItem('scrollPosition', window.scrollY)">
                        <input type="hidden" name="id" th:value="${item.getItemId()}" />
                        <button type="submit" class="btn add-to-cart-btn mt-3">Th√™m v√†o gi·ªè h√†ng</button>
                    </form>    
                </div>
            </div>
        </div>
    </div>
</div>

<h2 th:if="${not #lists.isEmpty(searchedPromotions)}">Khuy·∫øn m√£i</h2>
<div class="container2 py-5"> 
    <div class="row">
        <div class="col-md-6 item-card mb-4" th:each="promotion : ${searchedPromotions}">
            <a th:href="@{/promotion/{id}(id=${promotion.token})}" class="nav-link2"> 
                <h5 class="card-title text-center" th:text="${promotion.title}"></h5> 
            </a>
            <div class="card">
                <a th:href="@{/promotion/{id}(id=${promotion.token})}" class="nav-link2"> 

                    <!-- ·∫¢nh khuy·∫øn m√£i (ki·ªÉm tra null ho·∫∑c r·ªóng) -->
                    <img th:src="${#strings.isEmpty(promotion.imageUrl) ? 'https://gigamall.com.vn/data/2024/05/10/14290213_shushiwa.jpg' : promotion.imageUrl}" 
                         alt="Promotion Image" class="card-img-top">
                    
                    <!-- Th√¥ng tin ch·ªìng l√™n ·∫£nh -->
                    <div class="card-overlay">
                        <p th:utext="${promotion.description}" class="card-text text-truncate card-description"></p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
<!-- Modal 
	<div class="modal fade" id="itemModal" tabindex="-1" aria-labelledby="itemModalLabel" aria-hidden="true">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h5 class="modal-title" id="itemModalLabel">Th√¥ng tin m√≥n ƒÉn</h5>
	                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	            </div>
	            <div class="modal-body">
	                
					<img id="modalItemImage" class="img-fluid mb-3" src="" alt="M√≥n ƒÉn" onclick="expandImage(this)" />
					<h5 id="modalItemName">T√™n m√≥n</h5>
	                <p id="modalItemDescription">M√¥ t·∫£ m√≥n ƒÉn</p>
	                <p id="modalItemPromotion" class="text-danger">Khuy·∫øn m√£i: </p>
	                <p id="modalItemIngredients" class="text-info">Th√†nh ph·∫ßn: </p>
	                <p id="modalItemPrice">Gi√°: </p>
	                <p id="modalItemAvgRating" class="text-danger">ƒê√°nh gi√° trung b√¨nh: </p>
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
	            </div>
	        </div>
	    </div>
	</div>-->
<h2 th:if="${not #lists.isEmpty(searchedOrders)}">
	<div style="
	    min-width: 80px; 
	    display: flex; 
	    justify-content: center; 
	    align-items: center; 
	    text-align: center;
	">
	    <div style="
	        background: rgba(0, 0, 0, 0.7); 
	        padding: 20px; 
	        border-radius: 10px; 
	        max-width: 600px; 
	        width: 90%;
	    ">
	        <h2 style="
	            font-size: 28px; 
	            font-weight: bold; 
	            color: #FFD700; 
	            margin-bottom: 15px;
	        ">ƒê∆°n h√†ng c·ªßa b·∫°n</h2>

	        <ul style="list-style: none; padding: 0;">
	            <li th:each="order : ${searchedOrders}" style="
	                background: rgba(255, 255, 255, 0.2); 
	                padding: 10px; 
	                margin: 8px 0; 
	                border-radius: 5px; 
	                transition: 0.3s;
	            " 
	            onmouseover="this.style.background='rgba(255, 255, 255, 0.4)'; this.style.transform='scale(1.05)';" 
	            onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'; this.style.transform='scale(1)';">
	                <a th:href="@{/my_order(modal='orderDetailsModal_' + ${order.orderCode})}" 
	                   th:text="${order.orderCode}" 
	                   style="color: #FFD700; text-decoration: none; font-weight: bold; font-size: 18px; display: block;">
	                </a>
	            </li>
	        </ul>
	    </div>
	</div>
</h2>
	<footer class="footer mt-5">
		    <div class="container">
				<div class="row g-4">
		            <div class="col-12">
						<!-- D√≤ng hi·ªÉn th·ªã Hotline v√† n√∫t "Xem th√™m" -->
						<div class="d-flex justify-content-between align-items-center">
						    <!-- Hi·ªÉn th·ªã s·ªë Hotline -->
						    <p class="mb-0"><strong>Hotline: 097 480 2998</strong></p>
						    <!-- Dropdown ƒë·ªÉ xem th√™m -->
							<button class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#footerDetails" aria-expanded="false" aria-controls="footerDetails" id="toggleButton">
							    Xem th√™m
							</button>
						</div>
		                <!-- C√°c chi ti·∫øt footer ·∫©n -->
		                <div class="collapse mt-3" id="footerDetails">
		                    <div class="row">
		                        <div class="col-md-4">
		                            <h5 class="footer-logo">Sushi Wa - Sushi v√† L·∫©u BƒÉng chuy·ªÅn</h5>
		                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.7867190715383!2d106.71906057480564!3d10.827627489324223!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3175291a441368eb%3A0x7a1dd7b554da4946!2sSushi%20Wa!5e0!3m2!1svi!2s!4v1728326309222!5m2!1svi!2s" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
		                        </div>
		                        <div class="cuoicung col-md-4">
		                            <h5>B·∫°n c·∫ßn h·ªó tr·ª£</h5>
									Hoteline:  <strong> <a href="tel:0974802998">097 480 2998</a> </strong><br>

		                            <p>
		                                ƒê·ªãa ch·ªâ: <a class="btn-reservation" href="https://maps.google.com/maps/dir//Sushi+Wa+TTTM+Giga+Mall,+240+%C4%90.+Ph%E1%BA%A1m+V%C4%83n+%C4%90%E1%BB%93ng+Hi%E1%BB%87p+B%C3%ACnh+Ch%C3%A1nh+Th%E1%BB%A7+%C4%90%E1%BB%A9c,+H%E1%BB%93+Ch%C3%AD+Minh" target="_blank">T·∫ßng B1, TTTM GigaMall, 240-242 Ph·∫°m VƒÉn ƒê·ªìng, Hi·ªáp B√¨nh Ch√°nh, Th·ªß ƒê·ª©c, Tp. H·ªì Ch√≠ Minh</a><br>
		                                Email: <a href="mailto:hotro.sushiwa@gmail.com">hotro.sushiwa@gmail.com</a>
		                            </p>
		                            <div class="social-icons">
		                                <a href="https://www.facebook.com/sushiwa" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
		                                <a href="https://www.twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
		                                <a href="https://www.youtube.com" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
		                                <a href="https://www.instagram.com" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
		                            </div>
		                            <div class="payment-icons mt-3">
		                                <a href="https://visa.com" target="_blank" aria-label="Visa"><img src="https://cdn-icons-png.flaticon.com/512/196/196578.png" alt="Visa"></a>
		                                <a href="https://www.mastercard.com" target="_blank" aria-label="Mastercard"><img src="https://cdn-icons-png.flaticon.com/512/196/196561.png" alt="Mastercard"></a>
		                                <a href="https://www.stripe.com" target="_blank" aria-label="Stripe"><img src="https://cdn-icons-png.flaticon.com/512/825/825425.png" alt="Stripe"></a>
		                                <a href="https://www.paypal.com" target="_blank" aria-label="Paypal"><img src="https://cdn-icons-png.flaticon.com/512/196/196565.png" alt="Paypal"></a>
		                            </div>
		                        </div>
		                        <div class="col-md-2">
		                            <h5>H∆∞·ªõng d·∫´n</h5>
		                            <ul class="list-unstyled">
		                                <li><a href="#">C√°ch ƒë·∫∑t m√≥n</a></li>
		                                <li><a href="#">Ph∆∞∆°ng th·ª©c thanh to√°n</a></li>
		                                <li><a href="#">Giao h√†ng t·∫≠n n∆°i</a></li>
		                                <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
		                                <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
		                            </ul>
		                        </div>
		                        <div class="col-md-2">
		                            <h5>H·ªó tr·ª£ kh√°ch h√†ng</h5>
		                            <ul class="list-unstyled">
		                                <li><a href="#">Li√™n h·ªá ch√∫ng t√¥i</a></li>
		                                <li><a href="#">T∆∞ v·∫•n th·ª±c ƒë∆°n</a></li>
		                                <li><a href="#">H∆∞·ªõng d·∫´n ƒë·∫∑t ti·ªác</a></li>
		                                <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
		                                <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
		                            </ul>
		                        </div>
		                    </div>
		                </div>
		            </div>
		            <div class="cuoicung col-12 mt-3 mb-3 text-center text-secondary">
		                <i>B·∫£n quy·ªÅn thu·ªôc &copy;<script>document.write(new Date().getFullYear());</script> Sushi Wa.</i>
		            </div>
		        </div>
		    </div>
		</footer>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // L·∫•y t·ª´ kh√≥a t√¨m ki·∫øm t·ª´ URL
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('query');

        // T√¨m t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ ch·ª©a m√¥ t·∫£
        const descriptions = document.querySelectorAll('.promotion-description p');

        descriptions.forEach(function(description) {
            if (query) {
                // T√¨m v√† t√¥ m√†u t·ª´ kh√≥a
                const regex = new RegExp('(' + query + ')', 'gi'); // T·∫°o regex ƒë·ªÉ t√¨m t·ª´ kh√≥a
                description.innerHTML = description.innerHTML.replace(regex, '<span class="highlight-keyword">$1</span>');
            }
        });
    });
	// M·ªü modal v√† hi·ªÉn th·ªã chi ti·∫øt m√≥n ƒÉn
	document.querySelectorAll('.card-img-top').forEach(item => {
	    item.addEventListener('click', function(event) {
	        const itemId = event.target.getAttribute('data-item-id');
	        const itemName = event.target.closest('.card').querySelector('.card-title').textContent;
	        const itemDescription = event.target.closest('.card').querySelector('.card-text').textContent;
	        const itemPromotion = event.target.closest('.card').querySelector('.text-danger').textContent;
	        const itemIngredients = event.target.closest('.card').querySelector('.text-danger').textContent;
	        const itemPrice = event.target.closest('.card').querySelector('.price').textContent;
	        const itemAvgRating = event.target.closest('.card').querySelector('.text-danger').textContent;
	        const itemImageUrl = event.target.getAttribute('src');

	        // C·∫≠p nh·∫≠t modal v·ªõi th√¥ng tin m√≥n ƒÉn
	        document.getElementById('modalItemImage').setAttribute('src', itemImageUrl);
	        document.getElementById('modalItemName').textContent = itemName;
	        document.getElementById('modalItemDescription').textContent = itemDescription;
	        document.getElementById('modalItemPromotion').textContent = itemPromotion;
	        document.getElementById('modalItemIngredients').textContent = "Th√†nh ph·∫ßn: " + itemIngredients;
	        document.getElementById('modalItemPrice').textContent = "Gi√°: " + itemPrice;
	        document.getElementById('modalItemAvgRating').textContent = "ƒê√°nh gi√°: " + itemAvgRating;

	        // M·ªü modal
	        var modal = new bootstrap.Modal(document.getElementById('itemModal'));
	        modal.show();
	    });
	});
	function expandImage(imgElement) {
	    // T·∫°o m·ªôt c·ª≠a s·ªï m·ªõi ƒë·ªÉ hi·ªÉn th·ªã h√¨nh ·∫£nh l·ªõn h∆°n
	    var expandedImg = window.open("", "_blank", "width=800,height=600");

	    // Vi·∫øt HTML v√†o c·ª≠a s·ªï m·ªõi
	    expandedImg.document.write(`
	        <html>
	            <head>
	                <title>H√¨nh ·∫£nh l·ªõn</title>
	                <style>
	                    body {
	                        text-align: center;
	                        margin: 0;
	                        padding: 0;
	                        background-color: #f4f4f4;
	                    }
	                    img {
	                        max-width: 100%;
	                        max-height: 100vh;
	                        object-fit: contain;
	                        margin-top: 20px;
	                    }
	                </style>
	            </head>
	            <body>
	                <img src="${imgElement.src}" alt="H√¨nh ·∫£nh ph√≥ng to" />
	            </body>
	        </html>
	    `);
	    
	    // ƒê·∫£m b·∫£o c·ª≠a s·ªï c√≥ th·ªÉ ƒë√≥ng ƒë∆∞·ª£c
	    expandedImg.document.close();
	}
	// L·∫Øng nghe s·ª± ki·ªán collapse (m·ªü/thu g·ªçn)
   document.getElementById('toggleButton').addEventListener('click', function() {
       var isExpanded = this.getAttribute('aria-expanded') === 'true';
       this.textContent = isExpanded ? 'R√∫t g·ªçn' : 'Xem th√™m';
   });
   document.querySelector('input[name="query"]').value = queryValue;

</script>

</body>
</html>
